(this.webpackJsonpsongboook_frontend=this.webpackJsonpsongboook_frontend||[]).push([[0],{260:function(e,t,n){},278:function(e,t,n){},365:function(e,t){},367:function(e,t){},381:function(e,t){},383:function(e,t){},411:function(e,t){},413:function(e,t){},414:function(e,t){},419:function(e,t){},421:function(e,t){},440:function(e,t){},452:function(e,t){},455:function(e,t){},472:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},490:function(e,t,n){},491:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),o=n.n(a),c=n(28),i=n.n(c),r=(n(260),n(8)),l=n(19),u=n(12),d=n.n(u),j=n(21),b=n(250),h=n(500),g=n(501),O=n(502),f=n(503),m=n(24),p=n.n(m),x=n(58),v=n(7),k=new function e(){var t=this;Object(x.a)(this,e),this.bassOnly=!1,this.pianoOnly=!1,this.guitarOnly=!1,this.onlyBookmarked=!1,this.onlyFlagKnown=0,this.displayedAsList=!1,this.isInEditMode=!1,this.sizeListview=window.innerWidth-200,this.showPage="book",this.setBassOnly=function(e){!0===e?(t.bassOnly=!0,t.pianoOnly=!1,t.guitarOnly=!1):(t.bassOnly=!1,t.pianoOnly=!1,t.guitarOnly=!1)},this.setPianoOnly=function(e){!0===e?(t.bassOnly=!1,t.pianoOnly=!0,t.guitarOnly=!1):(t.bassOnly=!1,t.pianoOnly=!1,t.guitarOnly=!1)},this.setGuitarOnly=function(e){!0===e?(t.bassOnly=!1,t.pianoOnly=!1,t.guitarOnly=!0):(t.bassOnly=!1,t.pianoOnly=!1,t.guitarOnly=!1)},this.setOnlyBookmarked=function(e){t.onlyBookmarked=e},this.setOnlyFlagKnown=function(e){t.onlyFlagKnown=e},this.setShowPage=function(e){t.showPage=e},this.setDisplayedAsList=function(e){t.displayedAsList=e},this.setIsInEditMode=function(e){t.isInEditMode=e},this.setSizeListview=function(e){t.sizeListview=e},Object(v.m)(this,{bassOnly:v.n,setBassOnly:v.f,pianoOnly:v.n,setPianoOnly:v.f,guitarOnly:v.n,setGuitarOnly:v.f,onlyBookmarked:v.n,setOnlyBookmarked:v.f,onlyFlagKnown:v.n,setOnlyFlagKnown:v.f,showPage:v.n,setShowPage:v.f,displayedAsList:v.n,setDisplayedAsList:v.f,isInEditMode:v.n,setIsInEditMode:v.f,sizeListview:v.n,setSizeListview:v.f})},A=new function e(){var t=this;Object(x.a)(this,e),this.artist=null,this.song=null,this.level=null,this.type="guitar",this.link=null,this.picurl=null,this.videourl=null,this.setArtist=function(e){t.artist=e},this.setSong=function(e){t.song=e},this.setType=function(e){t.type=e},this.setLevel=function(e){t.level=e},this.setLink=function(e){t.link=e},this.setPicurl=function(e){t.picurl=e},this.setVideourl=function(e){t.videourl=e},Object(v.m)(this,{artist:v.n,setArtist:v.f,song:v.n,setSong:v.f,type:v.n,setType:v.f,level:v.n,setLevel:v.f,link:v.n,setLink:v.f,picurl:v.n,setPicurl:v.f,videourl:v.n,setVideourl:v.f})},w=(n(278),Object(l.a)((function(e){var t=function(t){function n(){return(n=Object(j.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"POST",data:t});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=5;break}throw new Error("Error!");case 5:return A.setArtist(null),A.setSong(null),A.setType("guitar"),A.setLevel(null),A.setLink(null),A.setPicurl(null),A.setVideourl(null),e.next=14,n.data;case 14:return s=e.sent,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(t){console.log(t),b.a.success({description:"New song successfully posted!"}),e.setNewSongAdded(!0)})).catch((function(e){b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},n=h.a.useForm(),a=Object(r.a)(n,1)[0];return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(g.a,{visible:!0,onCancel:function(){k.setShowPage("book")},className:"addFormModal",centered:!0,onOk:function(){a.validateFields().then((function(e){a.resetFields(),function(e){var n={artist:e.artist,song:e.song};A.setArtist(e.artist),A.setSong(e.song),"bass"===e.type&&(A.setType("bass"),n.bass=!0),"piano"===e.type&&(A.setType("piano"),n.piano=!0),e.level&&(n.level=e.level,A.setLevel(e.level)),e.link&&(n.link=e.link,A.setLink(e.link)),e.picurl&&(n.picurl=e.picurl,A.setPicurl(e.picurl)),e.videourl&&(n.videourl=e.videourl,A.setVideourl(e.videourl)),t(n),k.setShowPage("book")}(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(s.jsxs)(h.a,{form:a,layout:"vertical",name:"addSongForm",initialValues:{artist:A.artist,song:A.song,link:A.link,picurl:A.picurl,videourl:A.videourl,type:A.type,level:A.level},children:[Object(s.jsx)(h.a.Item,{name:"artist",label:"Artist, Band or Composer",rules:[{required:!0,message:"Please input at least the name of the artist!"}],children:Object(s.jsx)(O.a,{})}),Object(s.jsx)(h.a.Item,{name:"song",label:"Song name",rules:[{required:!0,message:"Please input at least the name of the song!"}],children:Object(s.jsx)(O.a,{})}),Object(s.jsx)(h.a.Item,{name:"link",label:"Tabs, Notes or Chords",children:Object(s.jsx)(O.a,{})}),Object(s.jsx)(h.a.Item,{name:"picurl",label:"Link to the album cover",children:Object(s.jsx)(O.a,{})}),Object(s.jsx)(h.a.Item,{name:"videourl",label:"Link to the youtube video",children:Object(s.jsx)(O.a,{})}),Object(s.jsx)(h.a.Item,{name:"type",className:"collection-create-form_last-form-item",children:Object(s.jsxs)(f.a.Group,{children:[Object(s.jsx)(f.a,{value:"guitar",children:"Guitar"}),Object(s.jsx)(f.a,{value:"bass",children:"Bass"}),Object(s.jsx)(f.a,{value:"piano",children:"Piano"})]})}),Object(s.jsx)(h.a.Item,{name:"level",className:"collection-create-form_last-form-item",children:Object(s.jsxs)(f.a.Group,{children:[Object(s.jsx)(f.a,{value:"easy",children:"Easy"}),Object(s.jsx)(f.a,{value:"medium",children:"Medium"}),Object(s.jsx)(f.a,{value:"hard",children:"Hard"})]})})]})})})}))),y=n(62),_=n(126),P=n(514),N=n(515),S=n(504),C=n(499),E=n(242),B=n(247),I=n(506),T=n(508),L=n(95),M=n.n(L),F=new function e(){var t=this;Object(x.a)(this,e),this.token=null,this.refreshToken=localStorage.getItem("refreshToken")||null,this.login=function(e,n){t.token=e,t.refreshToken=n,k.setShowPage("book")},this.logout=function(){localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.clear();var e={refreshToken:t.refreshToken};t.token=null,t.refreshToken=null,fetch("https://songbook-cvs.herokuapp.com/logout",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(204!==e.status)throw new Error("Error when logout!")})).catch((function(e){console.log(e)})),k.setShowPage("book")},this.getNewToken=function(){var e=localStorage.getItem("refreshToken");if(e)try{M.a.decode(e,{complete:!0}),t.refreshToken=e}catch(s){s instanceof L.TokenExpiredError?(console.log("refreshtoken is expired",s),t.logout()):console.log("unknown error:",s)}if(null!==t.token)try{M.a.decode(t.token,{complete:!0})}catch(s){s instanceof L.TokenExpiredError?(console.log("token is expired",s),t.logout()):console.log("unknown error:",s)}else if(t.refreshToken){var n={refreshToken:t.refreshToken};return fetch("https://songbook-cvs.herokuapp.com/token",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw t.logout(),new Error("Error when refreshing the token!");return e.json()})).then((function(e){if(localStorage.setItem("refreshToken",e.refreshToken),e.token)return t.login(e.token,e.refreshToken),e.token})).catch((function(e){console.log(e)}))}},Object(v.m)(this,{token:v.n,refreshToken:v.n,login:v.f,logout:v.f,getNewToken:v.f})},z=(n(472),Object(l.a)((function(e){var t=Object(a.useState)(e.tags),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(-1),l=Object(r.a)(i,2),u=l[0],h=l[1],g=Object(a.useState)(""),f=Object(r.a)(g,2),m=f[0],x=f[1],v=Object(a.useState)(!1),A=Object(r.a)(v,2),w=A[0],y=A[1],_=Object(a.useState)(""),P=Object(r.a)(_,2),N=P[0],S=P[1],C=function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{tags:n}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},E=function(t){o[u]=m.toLowerCase(),c(o),C(o),h(-1),x(""),S(""),y(!1),e.setTagsMissing(!1),k.setIsInEditMode(!1)},L=function(e){h(-1),x(""),S(""),y(!1),k.setIsInEditMode(!1)},M=function(e){x(e.target.value),S(""),y(!1)},z=o?o.map((function(e,t){var n=e.length>30;return u===t?Object(s.jsx)(O.a,{className:"input-tag",size:"small",value:m,onChange:M,onBlur:L,onPressEnter:E},t):Object(s.jsx)(I.a,{className:"edit-tag",closable:!!F.token,onClose:function(){return function(e){var t=o;t.splice(e,1),c(t)}(t)},children:Object(s.jsx)("span",{onDoubleClick:function(n){k.setIsInEditMode(!0),h(t),x(e),n.preventDefault()},children:n?"".concat(e.slice(0,30),"..."):e})},t)})):[];return Object(s.jsxs)("div",{className:"tags",children:[z,w&&Object(s.jsx)(O.a,{type:"text",className:"input-tag",size:"small",value:N,onChange:function(e){S(e.target.value)},onBlur:function(){S(""),y(!1),h(-1),x(""),k.setIsInEditMode(!1)},onPressEnter:function(t){var n=t.target.value.toLowerCase();if(void 0===o||null===o){var s=[n];C(s),c(s)}else if(n&&-1===o.indexOf(n)){var a=[].concat(Object(B.a)(o),[n]);C(a),c(a)}S(""),y(!1),h(-1),x(""),e.setTagsMissing(!1),e.setPageHasChanged("true"),k.setIsInEditMode(!1)}}),!w&&F.token&&Object(s.jsxs)(I.a,{className:"site-tag-plus",onClick:function(){k.setIsInEditMode(!0),y(!0),h(-1),x("")},children:[Object(s.jsx)(T.a,{})," Add Tag"]})]})}))),U=n(509),D=function(e){var t=Object(a.useState)(e.lyrics?e.lyrics:"Loading ..."),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),u=l[0],b=l[1],h=Object(a.useCallback)((function(){"Loading ..."!==o&&null!==o||function(){var t=Object(j.a)(d.a.mark((function t(){var n,s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com"+"/lyrics/".concat(e.id),method:"GET"});case 2:if(!(200!==(n=t.sent).status&201!==n.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,n.data;case 7:return s=t.sent,a=s,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().then((function(e){e.lyrics.length>0?(c(function(e){return e.toString().replaceAll("\xc3\xa9","\xe9").replaceAll("\xc3\xaa","\xea").replaceAll("\xc3\xa8","\xe8").replaceAll("\xc3\xa7","\xe7").replaceAll("\xc3\xbb ","\xfb").replaceAll("\xc3","\xe0")}(e.lyrics)),b(!1)):b(!0)})).catch((function(e){console.log(e),b(!0)}))}),[o,e.id]);Object(a.useEffect)((function(){h()}),[h]);return Object(s.jsx)("div",{style:{whiteSpace:"pre-line"},children:u?Object(s.jsxs)("div",{children:["No lyrics found. \xa0",Object(s.jsx)(_.a,{title:"Try again to fetch lyrics.",children:Object(s.jsx)(U.a,{onClick:function(){c("Loading ..."),b(!1),h()}})})]}):o})},H=n(510),V=n(511),G=(n(473),Object(l.a)((function(e){var t=Object(a.useState)(e.tabs),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(e.video),l=Object(r.a)(i,2),u=l[0],h=l[1],g=Object(a.useState)(e.pic),f=Object(r.a)(g,2),m=f[0],x=f[1],v=Object(a.useState)(!1),A=Object(r.a)(v,2),w=A[0],y=A[1],_=Object(a.useState)(!1),P=Object(r.a)(_,2),N=P[0],S=P[1],C=Object(a.useState)(!1),E=Object(r.a)(C,2),B=E[0],T=E[1],L=Object(a.useState)(""),M=Object(r.a)(L,2),z=M[0],U=M[1],D=e.isDrawerFold?160:350,G=function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:n});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},Q=function(e){U(e.target.value)},R=function(){w&&y(!1),N&&S(!1),B&&T(!1),k.setIsInEditMode(!1),U("")},K=function(){w?(z.length>0?(G({link:z}),e.setTabsMissing(!1)):(G({link:"null"}),e.setTabsMissing(!0)),c(z),y(!1)):N?(z.length>0?(G({videourl:z}),e.setVideoMissing(!1)):(G({videourl:"null"}),e.setVideoMissing(!0)),h(z),S(!1)):B&&(z.length>0?(G({picurl:z}),e.setPicMissing(!1)):(G({picurl:"null"}),e.setPicMissing(!0)),x(z),T(!1)),U(""),e.setPageHasChanged("true"),k.setIsInEditMode(!1)},q=function(e){"null"!==e&&window.open(e,"_blank").focus()},J=function(e,t){var n,s,a=!1,o=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="12px sans-serif",t.measureText(e).width};for(n=e.length;o(e.slice(0,n))>t;n--)s=n,a=!0;return a?"".concat(e.slice(0,s),"..."):e};return Object(s.jsxs)("div",{className:"links",children:[Object(s.jsxs)("div",{className:"link__container",children:[Object(s.jsx)("div",{className:"link__ref",children:"Tabs:"}),w?Object(s.jsx)("div",{style:{display:"inline-block",width:D+90},children:Object(s.jsx)(O.a,{size:"small",className:"link__input",value:z,onChange:Q,onBlur:R,onPressEnter:K},"link_input_".concat(e.id))}):Object(s.jsxs)("a",{onClick:function(){return q(o)},children:[" ",Object(s.jsxs)(I.a,{className:"links__tag",children:[Object(s.jsx)(H.a,{}),"\xa0\xa0",J(o,D),F.token&&Object(s.jsx)(V.a,{onClick:function(e){U(o),y(!0),k.setIsInEditMode(!0),e.preventDefault()}})]},"tabs")]})]}),Object(s.jsxs)("div",{className:"link__container",children:[Object(s.jsx)("div",{className:"link__ref",children:"Video:"}),N?Object(s.jsx)("div",{style:{display:"inline-block",width:D+90},children:Object(s.jsx)(O.a,{size:"small",className:"link__input",value:z,onChange:Q,onBlur:R,onPressEnter:K},"link_input_".concat(e.id))}):Object(s.jsxs)("a",{onClick:function(){return q(u)},children:[" ",Object(s.jsxs)(I.a,{className:"links__tag",children:[Object(s.jsx)(H.a,{}),"\xa0\xa0",J(u,D),F.token&&Object(s.jsx)(V.a,{onClick:function(e){U(u),S(!0),k.setIsInEditMode(!0),e.preventDefault()}})]},"video")]})]}),F.token&&Object(s.jsxs)("div",{className:"link__container",children:[Object(s.jsx)("div",{className:"link__ref",children:"Pic:"}),B?Object(s.jsx)("div",{style:{display:"inline-block",width:D+90},children:Object(s.jsx)(O.a,{size:"small",className:"link__input",value:z,onChange:Q,onBlur:R,onPressEnter:K},"link_input_".concat(e.id))}):Object(s.jsxs)(I.a,{className:"links__tag",onDoubleClick:function(e){U(m),T(!0),k.setIsInEditMode(!0),e.preventDefault()},children:[Object(s.jsx)(H.a,{}),"\xa0\xa0",J(m,D),Object(s.jsx)(V.a,{onClick:function(e){U(m),T(!0),k.setIsInEditMode(!0),e.preventDefault()}})]},"pic")]})]})}))),Q=(n(474),Object(l.a)((function(e){var t=Object(a.useState)(e.bass?"b":e.piano?"p":"g"),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(e.level),l=Object(r.a)(i,2),u=l[0],h=l[1],g=Object(a.useState)(e.artist),m=Object(r.a)(g,2),x=m[0],v=m[1],A=Object(a.useState)(e.song),w=Object(r.a)(A,2),y=w[0],_=w[1],P=Object(a.useState)(!1),N=Object(r.a)(P,2),S=N[0],C=N[1],E=Object(a.useState)(!1),B=Object(r.a)(E,2),T=B[0],L=B[1],M=Object(a.useState)(""),z=Object(r.a)(M,2),U=z[0],D=z[1],H=e.isDrawerFold?200:400,G=function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:n});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(t){console.log("Success",t),e.setPageHasChanged("true")})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},Q=function(e){D(e.target.value)},R=function(){S&&C(!1),T&&L(!1),k.setIsInEditMode(!1),D("")},K=function(){S?(U.length>0?G({artist:U}):G({artist:"null"}),v(U),e.setArtist(U),C(!1),k.setIsInEditMode(!1)):T&&(U.length>0?G({song:U}):G({song:"null"}),_(U),e.setSong(U),L(!1),k.setIsInEditMode(!1)),D(""),e.setPageHasChanged("true")},q=function(e,t){var n,s,a=!1,o=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="12px sans-serif",t.measureText(e).width};for(n=e.length;o(e.slice(0,n))>t;n--)s=n,a=!0;return a?"".concat(e.slice(0,s),"..."):e};return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"Extras__radioType",children:Object(s.jsxs)(f.a.Group,{onChange:function(t){switch(t.target.value){case"g":e.setIsBass(!1),e.setIsPiano(!1),G({bass:!1,piano:!1});break;case"b":e.setIsBass(!0),e.setIsPiano(!1),G({bass:!0,piano:!1});break;case"p":e.setIsBass(!1),e.setIsPiano(!0),G({bass:!1,piano:!0});break;default:console.log("Error!")}c(t.target.value)},value:o,children:[Object(s.jsx)(f.a,{value:"g",children:"Guitar"}),Object(s.jsx)(f.a,{value:"b",children:"Bass"}),Object(s.jsx)(f.a,{value:"p",children:"Piano"})]})}),Object(s.jsx)("div",{className:"Extras__radioType",children:Object(s.jsxs)(f.a.Group,{onChange:function(e){G({level:e.target.value}),h(e.target.value)},value:u,children:[Object(s.jsx)(f.a,{value:"easy",children:"Easy"}),Object(s.jsx)(f.a,{value:"medium",children:"Medium"}),Object(s.jsx)(f.a,{value:"hard",children:"Hard"})]})}),Object(s.jsxs)("div",{className:"Extras__container",children:[Object(s.jsx)("div",{className:"Extra__ref",children:"Artist:"}),S?Object(s.jsx)("div",{style:{display:"inline-block",width:H},children:Object(s.jsx)(O.a,{size:"small",className:"Extras__input",value:U,onChange:Q,onBlur:R,onPressEnter:K},"link_input_".concat(e.id))}):Object(s.jsxs)(I.a,{className:"Extra__tag",children:[q(x,H),"\xa0\xa0",Object(s.jsx)(V.a,{onClick:function(e){D(x),C(!0),k.setIsInEditMode(!0),L(!1),e.preventDefault()}})]},"Artist")]}),Object(s.jsxs)("div",{className:"Extras__container",children:[Object(s.jsx)("div",{className:"Extra__ref",children:"Song:"}),T?Object(s.jsx)("div",{style:{display:"inline-block",width:H},children:Object(s.jsx)(O.a,{size:"small",className:"Extras__input",value:U,onChange:Q,onBlur:R,onPressEnter:K},"link_input_".concat(e.id))}):Object(s.jsxs)(I.a,{className:"Extra__tag",children:[q(y,H),"\xa0\xa0",Object(s.jsx)(V.a,{onClick:function(e){D(y),L(!0),k.setIsInEditMode(!0),C(!1),e.preventDefault()}})]},"Song")]})]})}))),R=n(52),K=n(507),q=n(512),J=n(513),Z=n(251),X=Object(l.a)((function(e){var t=Object(a.useState)(e.active),n=Object(r.a)(t,2),o=n[0],c=n[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(R.a,{style:{marginBottom:"10px"},icon:Object(s.jsx)(q.a,{}),onClick:function(){return function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{active:n}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(){c(t),e.setPageHasChanged("true"),b.a.error({description:"Song #".concat(e.id," has been ").concat(o?"a":"una","rchived."),icon:Object(s.jsx)(q.a,{style:{color:"#000"}})})})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(!o)},block:!0,danger:o,children:[o?"A":"Una","rchive this song"]}),Object(s.jsx)(K.a,{title:"Are you sure\uff1f",icon:Object(s.jsx)(Z.a,{style:{color:"red"}}),onConfirm:function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"DELETE"});case 2:if(!(200!==(n=t.sent).status&201!==n.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,n.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(){b.a.error({description:"Song #".concat(e.id," has been deleted."),icon:Object(s.jsx)(J.a,{style:{color:"#6E0F1C"}})}),e.setPageHasChanged("true")})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},children:Object(s.jsx)(R.a,{block:!0,icon:Object(s.jsx)(J.a,{}),type:"primary",danger:!0,children:"Delete this song"})})]})})),Y=(n(475),window.innerWidth<=768),W=Object(l.a)((function(e){var t=Object(a.useState)(function(){var e=350;return Y&&(e=window.innerWidth),e}()),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!0),l=Object(r.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(null),b=Object(r.a)(j,2),h=b[0],g=b[1],O=Object(a.useState)(e.page.artist),f=Object(r.a)(O,2),m=f[0],p=f[1],x=Object(a.useState)(e.page.song),v=Object(r.a)(x,2),k=v[0],A=v[1],w=e.page.videourl?e.page.videourl.split("=")[1]:"",y={height:Y?.6*window.innerWidth:u?227:310,width:Y?"100%":u?300:550,playerVars:{autoplay:0}};Object(a.useEffect)((function(){!Y&&_(u)}),[u]);var _=function(e){c(e?350:600),!Y&&d(e)};return Object(s.jsxs)(S.a,{title:Object(s.jsxs)("div",{children:[!Y&&(u?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(P.a,{onClick:function(){return _(!1)}}),"\xa0\xa0"]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N.a,{onClick:function(){return _(!0)}}),"\xa0\xa0"]})),u?k.toUpperCase():m.toUpperCase()+" - "+k.toUpperCase(),"\xa0",Object(s.jsxs)("span",{style:{color:"#eee"},children:["#",e.page.id]})]}),placement:"right",closable:!0,className:"InfoDrawer",onClose:function(){d(!0),h&&h.pauseVideo(),e.setDrawerVisible(!1)},visible:e.drawerVisible,width:o,children:[e.page.videourl?Object(s.jsx)(E.a,{videoId:w,opts:y,onReady:function(e){g(e.target)}}):Object(s.jsx)("img",{src:e.page.picurl,className:"Page-drawer__artwork",alt:"pic_missing"}),Object(s.jsx)(C.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Links"})}),Object(s.jsx)(G,{tabs:e.page.link,video:e.page.videourl,pic:e.page.picurl,id:e.page.id,setTabsMissing:e.setTabsMissing,setVideoMissing:e.setVideoMissing,setPicMissing:e.setPicMissing,isDrawerFold:u,setPageHasChanged:e.setPageHasChanged}),Object(s.jsx)(C.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Tags"})}),Object(s.jsx)(z,{tags:e.page.tags,id:e.page.id,setTagsMissing:e.setTagsMissing,setPageHasChanged:e.setPageHasChanged}),Object(s.jsx)(C.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Lyrics"})}),Object(s.jsx)(D,{id:e.page.id,lyrics:e.page.lyrics}),null!==F.token&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Extras"})}),Object(s.jsx)(Q,{artist:e.page.artist,song:e.page.song,piano:e.page.piano,bass:e.page.bass,level:e.page.level,setArtist:p,setSong:A,isDrawerFold:u,id:e.page.id,setIsPiano:e.setIsPiano,setIsBass:e.setIsBass,setPageHasChanged:e.setPageHasChanged}),Object(s.jsx)(C.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Danger Zone"})}),Object(s.jsx)(X,{id:e.page.id,active:e.page.active,setPageHasChanged:e.setPageHasChanged})]})]})})),$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACwklEQVRoge1Yy47aMBQ9thM2hVlTiSXsqFCnoxZWsIAvGPUDRl2OxKj9oOkPVLMHNkFQIbWqKiQ+AXXYkxXCdTfjNBC/SGCmjxzJIvjca9+Tex07AXLkyJHjr4Pv+5993xd7bXIs/hAQE9ntdl8QQj4CeAmAyv4gCJT2nU4HQgiMx2Ml3263QQgx+sfAAXwnhFwNh8OFLkbPJIAQcgvglYqrVCo7/5fLJTjnEEIYeUKIlt8DA3AhhLgF8DqVAADnAPD28hLPy+WoMwgCMMYSxu/7fQDAdDpV8h9ubgAAk8lEyfevr6PrH/f3+HR3F8WQVgAFgGq1miQoTfQ9KxaPxtdqNXmZVBqDTQAAoHR2luhTBRC3y8q7IrUAVQnE7bLyrnASoLpbtr6svCv+XwGqEojbZeVd8e9nQAjhfLfidll5Obfc+HRwEvBUGTipgMdYA/JYYoJRgBDiyTNgE/HHl5ANqTPwWCWUOQOqgQFgu92iUCgAADabTcIuK++K1AJms5nRLivvCicPSulOazabCZtWq3U0XjYX2N7IQAhJ1OtgMAAANBoNcM6xWCyUfPnhJWi1Win5er0Oxhjm87lx/tQCbINITsd7nhfZpfG3BQ84ZkAHSqnxKaF60uz7m0rl5BmQAtJmQAo4WQZsg9gyIAWY/G0ZsCGzABNsJcQYO70A00AywCwlxBhzClQHJwE62Ca3lZDneak2r50xXIxMGTAtcluGZAmdPAO6uyQF6HiZAZP/Ibuucg4XI1OAnPNMAmwL2QYnAbqtXmZAx0sBJp5SquVdYBPwEwD1fR/F2HdLAAjDMBKg4tfrdSTA8zyUSiWlP6VU6R+GobzkpgCNq6fX630FcGGyAX6/eOy3nYli5x7bGWgPX0aj0RsdaTsLXT18nz+H4StxPBgZuEpA/NcBHMA3Qsg7V4ccOXLkyHEwfgGWMvrsH43YhwAAAABJRU5ErkJggg==",ee=(n(476),function(e){var t=e.isPiano;return Object(s.jsx)("div",{className:"piano",id:"piano",children:t&&Object(s.jsx)(_.a,{placement:"bottomRight",title:"Play this on keys!",children:Object(s.jsx)("img",{className:"piano__img",src:$,alt:$})})})}),te=n.p+"static/media/bass.259bd481.png",ne=(n(477),function(e){var t=e.isBass;return Object(s.jsx)("div",{className:"bass",id:"piano",children:t&&Object(s.jsx)(_.a,{placement:"bottomRight",title:"Play this on bass!",children:Object(s.jsx)("img",{className:"bass__img",src:te,alt:te})})})}),se=n(67),ae=n(516),oe=(n(478),Object(l.a)((function(e){var t=Object(a.useState)(e.checked),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),u=l[0],h=l[1],g=function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{checked:n}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}h(!0),function(e){return n.apply(this,arguments)}(t).then((function(){c(t),h(!1)})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))};return Object(s.jsx)("div",{className:"CheckAdd",id:"checkAdd",children:u?Object(s.jsx)(se.a,{className:"CheckAdd__ico clickable grey_check"}):F.token&&(o?Object(s.jsx)(_.a,{placement:"top",title:"Click to mark this song as unknown.",children:Object(s.jsx)(ae.a,{onClick:function(){return g(!1)},className:"CheckAdd__ico clickable"})}):Object(s.jsx)(_.a,{placement:"top",title:"Click to mark this song as known.",children:Object(s.jsx)(ae.a,{onClick:function(){return g(!0)},className:"CheckAdd__ico clickable grey_check"})}))})}))),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABhklEQVRoge3ZsUsCYRjH8d/jhaQmlkuLf0FBU3SGBGpDm1vQ1NAQNNQU1ChNQZAEDTU1NLW3ieFwELa1tNRYQwRJ2ImEd09Di0SJD93xGjyf8e7e532/cDcdoJT610i6oJ23M2xxhYElAMmAztEipmrXwm6q2riXLBQFtPN2xrf4FkBadLzBvUbYmolfXT8NuiAimc4WVxDe4QEg7cM7lCyQBXy9NuEi2R6iAAT3zveTkjwsDRg6GmCaBpimAaZpgGkaYJoGmKYBpmmAaRpgmgaYpgGmaYBpGmBaWAEM4NInWiCfZkE4B+CFsdFIwPM+QLhgpv1krXHXc331LT+/Z1n+JsDrAEaD2lD0g+N9cY5/udUC6Czi4SBebzz2n2FPMvEGAVtgTPz0zFjtZuBz/TXgmQknXid6NO44Tcmsl1wuGRvtrgG8DSDTey/0ACI8MNNxwoudUr3ekcz4jpeno24zsQLGDoApQBYg4hZtxy1kS1wO/uPnMiJuIVtyi7YT9Gyl1BD7BGkmaI4lwsjMAAAAAElFTkSuQmCC",ie=(n(479),Object(l.a)((function(e){var t=function(t){e.setIsBookmarked(t),e.setPageHasChanged(!0),function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{bookmark:n}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){var t=e;console.log("Sucess",t)})).catch((function(e){F.logout(),b.a.error({description:e.message}),console.log("error",e.message)}))}(t)},n=e.isBookmarked;return Object(s.jsx)("div",{className:e.displayedAsList?"bookmark__list":"bookmark",id:"bookmark",children:n?Object(s.jsx)(_.a,{placement:"right",title:"Delete the bookmark.",children:Object(s.jsx)("img",{onClick:function(){return t(!1)},className:"bookmark__img clickable",src:ce,alt:ce})}):null!=F.token&&Object(s.jsx)(_.a,{placement:"right",title:"Bookmark this.",children:Object(s.jsx)("img",{onClick:function(){return t(!0)},className:"bookmark__img clickable bookmark__grey",src:ce,alt:ce})})})}))),re=(n(480),Object(l.a)((function(e){var t=Object(a.useState)(e.title.replace(/ /g,"").length>23?"".concat(e.title.replace("-","/").replace(/ /g,"").slice(0,23),"..."):e.title.replace("-","/").replace(/ /g,"")),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),u=l[0],h=l[1],g=Object(a.useState)(e.title.replace("-","/")),f=Object(r.a)(g,2),m=f[0],x=f[1];return Object(s.jsx)(s.Fragment,{children:u?Object(s.jsx)(O.a,{size:"small",className:"title__input",value:m,onChange:function(e){x(e.target.value)},onBlur:function(){h(!1),k.setIsInEditMode(!1),x(e.title.replace("-","/"))},onPressEnter:function(){!function(t){function n(){return(n=Object(j.a)(d.a.mark((function t(n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{title:n}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){console.log("Sucess",e)})).catch((function(e){F.logout(),b.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(m.replace("/","-")),c(m.replace(/ /g,"").length>23?"".concat(m.replace("-","/").replace(/ /g,"").slice(0,23),"..."):m.replace("-","/").replace(/ /g,"")),h(!1),k.setIsInEditMode(!1)}},"title_input_".concat(e.id)):Object(s.jsx)("div",{className:"Page__title",onDoubleClick:function(){null!=F.token&&(h(!0),k.setIsInEditMode(!0))},children:o})})}))),le=(n.p,n(481),Object(l.a)((function(e){var t=Object(a.useState)(e.page.bookmark),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(e.page.piano),l=Object(r.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(e.page.bass),b=Object(r.a)(j,2),h=b[0],g=b[1],O=Object(a.useState)(!1),f=Object(r.a)(O,2),m=f[0],p=f[1],x=Object(a.useState)("null"===e.page.link),v=Object(r.a)(x,2),A=v[0],w=v[1],y=Object(a.useState)(null===e.page.tags),_=Object(r.a)(y,2),P=_[0],N=_[1],S=Object(a.useState)("null"===e.page.videourl),C=Object(r.a)(S,2),E=C[0],B=C[1],I=Object(a.useState)("null"===e.page.picurl),T=Object(r.a)(I,2),L=T[0],M=T[1],F=Object(a.useState)(!!(A||P||E||L)),z=Object(r.a)(F,2),U=z[0],D=z[1];Object(a.useEffect)((function(){D(!!(A||P||E||L))}),[A,P,E,L]);var H=function(){e.setRandomPageId(null),p(!0)},V=null!==e.randomPageId,G=e.randomPageId===e.page.id,Q=V?G?"Page__main Page__halo Page__main__white":"Page__main Page__main__transparent":"Page__main Page__main__white",R=V?G?"List__main Page__halo Page__main__white":"List__main Page__main__transparent":"List__main Page__main__white";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(W,{page:e.page,setDrawerVisible:p,drawerVisible:m,setTabsMissing:w,setTagsMissing:N,setVideoMissing:B,setPicMissing:M,setIsPiano:d,setIsBass:g,setPageHasChanged:e.setPageHasChanged}),k.displayedAsList?Object(s.jsxs)("div",{className:R,style:{width:k.sizeListview},children:[Object(s.jsx)("div",{className:"List__artworkContainer",onClick:H,children:Object(s.jsx)("img",{src:e.page.picurl,alt:"pic_missing",className:"List__artwork"})}),Object(s.jsx)("div",{className:"List__left",children:Object(s.jsxs)("div",{onClick:H,children:[Object(s.jsx)("b",{children:e.page.artist})," - ",e.page.song]})}),Object(s.jsxs)("div",{className:"List__leftInstr",children:[h&&Object(s.jsx)(ne,{isBass:h}),u&&Object(s.jsx)(ee,{isPiano:u})]}),Object(s.jsx)("div",{className:"List__bookmark",children:Object(s.jsx)(ie,{id:e.page.id,setIsBookmarked:c,isBookmarked:o,setPageHasChanged:e.setPageHasChanged,displayedAsList:!0})}),Object(s.jsx)("div",{className:"List__check",children:Object(s.jsx)(oe,{isVisitor:!1,checked:e.page.checked,id:e.page.id,setPageHasChanged:e.setPageHasChanged})})]}):Object(s.jsxs)("div",{className:Q,children:[(U||V)&&Object(s.jsxs)("div",{className:"Page__notab",onClick:H,children:[Object(s.jsx)("div",{className:V?"Page__notab-text Page__notabnotselected-textcolor":"Page__notab-text",children:function(){var e=[];if(U)return!0===A&&e.push("TABS MISSING"),!0===P&&e.push("HASHTAGS MISSING"),!0===E&&e.push("VIDEO MISSING"),!0===L&&e.push("PICTURE MISSING"),e.map((function(e,t){return Object(s.jsxs)("div",{children:[e," ",Object(s.jsx)("br",{})]},t)}))}()}),U&&Object(s.jsx)("div",{className:"Page__notab Page__notab-background"}),V&&!G&&Object(s.jsx)("div",{className:"Page__notab Page__notselected-background"})]}),Object(s.jsx)("div",{className:"Page__opendrawer",onClick:H,children:Object(s.jsx)("img",{src:e.page.picurl,alt:"pic_missing",className:"Page__artwork"})}),Object(s.jsx)(ie,{id:e.page.id,setIsBookmarked:c,isBookmarked:o,setPageHasChanged:e.setPageHasChanged}),Object(s.jsxs)("div",{className:"Page__icons",children:[Object(s.jsx)(ee,{isPiano:u}),Object(s.jsx)(ne,{isBass:h})]}),Object(s.jsx)("div",{className:"Page__actionicon",children:Object(s.jsx)(oe,{isVisitor:!1,checked:e.page.checked,id:e.page.id,setPageHasChanged:e.setPageHasChanged})}),Object(s.jsx)(re,{title:e.page.title,id:e.page.id})]},e.page.id)]})}))),ue=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=n.p+"static/media/logo.4589b056.png",je=(n(482),function(){return Object(s.jsx)("div",{className:"Book__centered",children:Object(s.jsxs)("div",{className:"spinner",children:[Object(s.jsx)("img",{src:de,className:"loader",alt:"Loading"}),Object(s.jsxs)("div",{className:"spinner spinner__header",children:["Songbo",Object(s.jsx)("b",{children:"0"}),"ok"]})]})})}),be=(n(483),Object(l.a)((function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!0),l=Object(r.a)(i,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(r.a)(j,2),h=b[0],g=b[1],O=Object(a.useState)(!1),f=Object(r.a)(O,2),m=f[0],p=f[1],x=Object(a.useState)(),v=Object(r.a)(x,2),A=v[0],w=v[1],P=e.newSongAdded,N=e.setNewSongAdded;Object(a.useEffect)((function(){return I(),window.addEventListener("resize",I),function(){window.removeEventListener("resize",I)}}),[]),Object(a.useEffect)((function(){k.displayedAsList&&I()}),[k.displayedAsList]),Object(a.useEffect)((function(){ue().then((function(e){c(e),d(!1)})).catch((function(e){g(!0),d(!1),console.log(e.message)})),p(!1),N(!1)}),[m,P,N]);var S=Object(a.useCallback)((function(e){if(!k.isInEditMode){e.preventDefault();var t=window.pageYOffset||document.documentElement.scrollTop,n=e.key.toLowerCase();"enter"===n?window.scrollTo({top:0,behavior:"smooth"}):"arrowup"===n?window.scrollTo({top:t-390,behavior:"smooth"}):"arrowdown"===n&&window.scrollTo({top:t+390,behavior:"smooth"})}}),[]);Object(a.useEffect)((function(){return document.addEventListener("keydown",S),function(){document.removeEventListener("keydown",S)}}),[S]);var C=o.map((function(t){var n=!0;if(k.bassOnly?n=t.bass:k.pianoOnly?n=t.piano:k.guitarOnly&&(n=!t.piano&&!t.bass),!t.bookmark&&k.onlyBookmarked&&(n=!1),e.searchValue){var a=t.tags.includes(e.searchValue),o=Object.values(t).some((function(t){return String(t).includes(e.searchValue)}));n=!(!a&&!o)}return 1===k.onlyFlagKnown?t.checked&&(n=!1):2===k.onlyFlagKnown&&(t.checked||(n=!1)),n?Object(s.jsx)("div",{id:t.id,children:Object(s.jsx)(le,{page:t,randomPageId:e.randomPageId,setRandomPageId:e.setRandomPageId,setPageHasChanged:p})},t.id):null})),E=C.filter((function(e){return null!=e}));Object(a.useLayoutEffect)((function(){if(null!==e.randomPageId){var t=document.getElementById(e.randomPageId).getBoundingClientRect().top,n=(window.innerHeight-330)/2,s=window.scrollY,a=t<0?t+s:s+t;window.scrollTo({top:a-n,left:0,behavior:"smooth"})}}),[e.randomPageId]);var B=function(){var e=function(){var e=["guitar","piano","bass"];return k.guitarOnly?e=["guitar"]:k.pianoOnly&&(e=["piano"]),k.bassOnly&&(e=["bass"]),e}();if(e.length>1){var t=e.slice(0,e.length-1),n=e[e.length-1];return t.join(", ")+" & "+n}return e[0]},I=function(){if(k.displayedAsList)k.setSizeListview(window.innerWidth-200),w(80);else{var e=document.getElementById("bookContainer").clientWidth,t=Math.floor((e-90)/362);w((e-362*t)/2+15+10)}};return Object(s.jsx)("div",{style:{width:"100%"},id:"bookContainer",onClick:function(){e.randomPageId&&e.setRandomPageId(null)},children:u?Object(s.jsx)(je,{}):h?Object(s.jsx)("div",{className:"Book__centered",children:Object(s.jsxs)("div",{children:[Object(s.jsx)(y.a,{className:"error__icon"}),Object(s.jsx)("img",{src:de,className:"error",alt:"Error"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{style:{fontSize:18,marginTop:15,color:"white"},children:"Error connecting to the backend!"})]})}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"Book__header",style:{marginLeft:A},children:[Object(s.jsx)(_.a,{placement:"top",title:Object(s.jsx)("span",{style:{fontSize:"12px"},children:"Love from Berlin"}),children:Object(s.jsx)("img",{src:de,className:"Book__logoHeader",alt:"logotest"})}),Object(s.jsxs)("span",{className:"Book__logo",children:["ongbo",Object(s.jsx)("b",{children:"0"}),"ok"]}),"\xa0 | \xa0 ",function(){var t="",n="";return k.onlyBookmarked&&(t="bookmarked"),1===k.onlyFlagKnown?n="unknown":2===k.onlyFlagKnown&&(n="known"),Object(s.jsx)(s.Fragment,{children:"".concat(E.length," \n        ").concat(t," ").concat(n," songs for \n        ").concat(e.searchValue?" filter '".concat(e.searchValue,"'"):B())})}()]}),E.length>0?Object(s.jsx)("div",{className:"Book__main",children:C}):Object(s.jsx)("div",{className:"Book__nothingFound",children:Object(s.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(s.jsx)("img",{src:"data:image/png;base64,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",className:"nothingFound",alt:"Nothing found"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{style:{fontSize:14,marginTop:10,color:"white",opacity:.15},children:"Nothing found!"})]})})]})})}))),he=(n(484),function(){return"addsong"===k.showPage?Object(s.jsx)("div",{className:"ProfilButton__float",onClick:function(){return k.setShowPage("book")},children:Object(s.jsx)(y.a,{className:"ProfilButton__close"})}):Object(s.jsx)(_.a,{placement:"left",title:"Add Song",children:Object(s.jsx)("div",{className:"AddSongButton__float",onClick:function(){return k.setShowPage("addsong")},children:Object(s.jsx)(T.a,{className:"AddSongButton__icon"})})})}),ge=n(517),Oe=function(e){var t=e.condition,n=e.wrap,s=e.children;return t?n(s):s},fe=new function e(){var t=this;Object(x.a)(this,e),this.userId=localStorage.getItem("userId")||null,this.userName=null,this.picUrl="https://avatars0.githubusercontent.com/u/12551446",this.setUserId=function(e){t.userId=e},this.setUserName=function(e){t.userName=e},this.setPicUrl=function(e){t.picUrl=e},Object(v.m)(this,{userId:v.n,setUserId:v.f,userName:v.n,setUserName:v.f,picUrl:v.n,setPicUrl:v.f})},me=(n(485),Object(l.a)((function(){return Object(a.useEffect)((function(){}),[]),Object(s.jsx)(Oe,{condition:"book"===k.showPage,wrap:function(e){return Object(s.jsx)(_.a,{placement:"left",title:"Profil",children:e})},children:"profil"===k.showPage?Object(s.jsx)("div",{className:"ProfilButton__float",onClick:function(){return k.setShowPage("book")},children:Object(s.jsx)(y.a,{className:"ProfilButton__close"})}):fe.picUrl?Object(s.jsx)("div",{className:"ProfilButton__float",style:{backgroundImage:"url(".concat(fe.picUrl,")"),backgroundSize:"cover"},onClick:function(){return k.setShowPage("profil")}}):Object(s.jsx)("div",{className:"ProfilButton__float ProfilButton__background",onClick:function(){return k.setShowProfil("profil")},children:Object(s.jsx)(ge.a,{className:"ProfilButton__icon"})})})}))),pe=n(252),xe=(n(486),Object(l.a)((function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1],i=function(t){e.setSearchValue(t.target.value)};return Object(s.jsx)(_.a,{placement:"left",title:"Search",visible:!e.showSearch&&!!o,children:Object(s.jsxs)("div",{onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},className:e.showSearch?"SearchButton__float SearchButton__open":"SearchButton__float",children:[!e.showSearch&&e.searchValue&&Object(s.jsx)("div",{className:"FilterButton__badge"}),e.showSearch&&Object(s.jsx)("div",{className:"SearchButton__input",children:Object(s.jsx)(O.a,{placeholder:"input search text",defaultValue:e.searchValue,onChange:i,onPressEnter:i,onFocus:function(){return k.setIsInEditMode(!0)},onBlur:function(){return k.setIsInEditMode(!1)},className:"SearchButton__input"})}),Object(s.jsx)(pe.a,{className:e.showSearch?"SearchButton__icon SearchButton__iconOpen":"SearchButton__icon",onClick:function(){e.setShowSearch(!e.showSearch)}})]})})}))),ve=n(518),ke=n(519),Ae=n(520),we=n(253),ye=(n(487),Object(l.a)((function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)((function(){e.showFilters?setTimeout((function(){document.getElementById("FilterButton__actionContainer").style.display="inline-block"}),200):document.getElementById("FilterButton__actionContainer").style.display="none"}),[e.showFilters]),Object(s.jsx)(_.a,{placement:"left",title:"Adjust what you see",visible:!e.showFilters&&!!o,children:Object(s.jsxs)("div",{style:e.showFilters?null!==F.token?{width:"16.8em"}:{width:"12.3em"}:{width:"2.7em"},onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},className:e.showFilters?"FilterButton__float FilterButton__open":"FilterButton__float",children:[!e.showFilters&&(k.pianoOnly||k.bassOnly||k.guitarOnly||k.onlyBookmarked||0!==k.onlyFlagKnown)&&Object(s.jsx)("div",{className:"FilterButton__badge"}),Object(s.jsxs)("div",{className:"FilterButton__actionContainer",id:"FilterButton__actionContainer",children:[Object(s.jsxs)("div",{className:k.pianoOnly?"FilterButton__action icon__piano":"FilterButton__action icon__piano inactive",onClick:function(){return k.setPianoOnly(!k.pianoOnly)},children:[" ",Object(s.jsx)(_.a,{placement:"bottom",title:k.pianoOnly?"Click to reset this filter":"Show only songs for piano",children:Object(s.jsx)("img",{width:"22",height:"22",src:$,alt:"piano"})})]}),Object(s.jsx)("div",{className:k.bassOnly?"FilterButton__action icon__bass":"FilterButton__action icon__bass inactive",onClick:function(){return k.setBassOnly(!k.bassOnly)},children:Object(s.jsx)(_.a,{placement:"bottom",title:k.bassOnly?"Click to reset this filter":"Show only songs for bass",children:Object(s.jsx)("img",{width:"17",height:"17",src:te,alt:"bass"})})}),Object(s.jsx)("div",{className:k.guitarOnly?"FilterButton__action icon__guitar":"FilterButton__action icon__guitar inactive",onClick:function(){return k.setGuitarOnly(!k.guitarOnly)},children:Object(s.jsx)(_.a,{placement:"bottom",title:k.guitarOnly?"Click to reset this filter":"Show only songs for guitar",children:Object(s.jsx)("img",{width:"17",height:"17",src:"data:image/png;base64,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",alt:"guitar"})})}),null!==F.token&&Object(s.jsxs)(s.Fragment,{children:["|",Object(s.jsx)(_.a,{placement:"bottom",title:0===k.onlyFlagKnown?"Show only song you know":1===k.onlyFlagKnown?"Showing unknown only":2===k.onlyFlagKnown?"Showing known only":void 0,children:Object(s.jsx)("div",{className:"FilterButton__action ".concat(0===k.onlyFlagKnown?"FilterButton__knowflag inactive":1===k.onlyFlagKnown?"FilterButton__knowflag red":2===k.onlyFlagKnown?"FilterButton__knowflag green":void 0),onClick:function(){0===k.onlyFlagKnown?k.setOnlyFlagKnown(2):1===k.onlyFlagKnown?k.setOnlyFlagKnown(0):2===k.onlyFlagKnown&&k.setOnlyFlagKnown(1)},children:0===k.onlyFlagKnown?Object(s.jsx)(ae.a,{}):1===k.onlyFlagKnown?Object(s.jsx)(ve.a,{}):2===k.onlyFlagKnown?Object(s.jsx)(ae.a,{}):void 0})}),Object(s.jsx)("div",{className:k.onlyBookmarked?"FilterButton__action icon__bookmark":"FilterButton__action icon__bookmark inactive",onClick:function(){return k.setOnlyBookmarked(!k.onlyBookmarked)},children:Object(s.jsx)(_.a,{placement:"bottom",title:k.onlyBookmarked?"Showing only bookmarked songs":"Show only bookmarked songs",children:Object(s.jsx)("img",{width:"17",height:"18",src:ce,alt:"bookmark"})})})]}),"|",Object(s.jsx)("div",{className:"FilterButton__action",onClick:function(){return k.setDisplayedAsList(!k.displayedAsList)},children:Object(s.jsx)(_.a,{placement:"bottom",title:k.displayedAsList?"Switch to grid view":"Switch to list view",children:k.displayedAsList?Object(s.jsx)(ke.a,{className:"icon__view"}):Object(s.jsx)(Ae.a,{className:"icon__view"})})}),"|"]}),Object(s.jsx)(we.a,{onClick:function(){return e.setShowFilters(!e.showFilters)},className:"FilterButton__icon"})]})})}))),_e=n(521),Pe=n(522),Ne=(n(488),function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1];return"login"===k.showPage?Object(s.jsx)("div",{className:"ProfilButton__float",onClick:function(){return k.setShowPage("book")},children:Object(s.jsx)(y.a,{className:"ProfilButton__close"})}):Object(s.jsx)(_.a,{placement:"left",title:"Login",children:Object(s.jsx)("div",{className:"LoginButton__float",onClick:function(){return k.setShowPage("login")},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:n?Object(s.jsx)(_e.a,{className:"LoginButton__icon"}):Object(s.jsx)(Pe.a,{className:"LoginButton__icon"})})})}),Se=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",void 0!==t&&(n="/".concat(t)),e.next=4,p()({url:"https://songbook-cvs.herokuapp.com/randomized"+n,method:"GET"});case 4:if(!(200!==(s=e.sent).status&201!==s.status)){e.next=7;break}throw new Error("Error!");case 7:return e.next=9,s.data;case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=n.p+"static/media/dice.97405e8c.svg",Ee=(n(489),function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1],i=function(){var t=Object(j.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),e.setSearchValue(null),k.setBassOnly(!1),k.setPianoOnly(!1),k.setGuitarOnly(!1),k.setOnlyBookmarked(!1),n=void 0,1===k.onlyFlagKnown&&(n=!1),2===k.onlyFlagKnown&&(n=!0),t.prev=9,t.next=12,Se(n);case 12:s=t.sent,e.setRandomPageId(s.id),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),console.log(t.t0);case 19:c(!1);case 20:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(){return t.apply(this,arguments)}}();return Object(s.jsx)("div",{onClick:i,children:Object(s.jsx)(_.a,{placement:"left",title:"Random song",children:Object(s.jsx)("img",{className:o?"Random__dice spining":"Random__dice",src:Ce,alt:"logo"})})})}),Be=n.p+"static/media/info.821e11f1.svg",Ie=(n(490),function(e){return Object(s.jsx)(_.a,{placement:"left",title:"Infos & Impressum",children:Object(s.jsx)("div",{className:"InfoButton__float",children:Object(s.jsx)("img",{className:"InfoButton__icon",src:Be,alt:"info"})})})}),Te=(n(491),function(e){return Object(s.jsx)(_.a,{placement:"left",title:"Help",children:Object(s.jsx)("div",{className:"HelpButton__float",children:Object(s.jsx)(ve.a,{className:"HelpButton__icon"})})})}),Le=(n(492),Object(l.a)((function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),u=l[0],d=l[1];return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"Menu__top",children:[F.token?Object(s.jsx)(me,{showPage:k.showPage,setShowPage:e.setShowPage}):Object(s.jsx)(Ne,{showLoginForm:e.showLoginForm,setShowLoginForm:e.setShowLoginForm}),"book"===k.showPage&&Object(s.jsxs)(s.Fragment,{children:[F.token&&Object(s.jsx)(he,{setShowAddForm:e.setShowAddForm,showAddForm:e.showAddForm}),Object(s.jsx)(ye,{showFilters:u,setShowFilters:d}),Object(s.jsx)(xe,{showSearch:o,setShowSearch:c,searchValue:e.searchValue,setSearchValue:e.setSearchValue}),Object(s.jsx)(Ee,{setRandomPageId:e.setRandomPageId,setSearchValue:e.setSearchValue})]})]}),Object(s.jsxs)("div",{className:"Menu__bottom",children:[Object(s.jsx)(Ie,{}),Object(s.jsx)(Te,{})]})]})}))),Me=(n(493),function(){var e=(new Date).getFullYear();return Object(s.jsxs)("div",{className:"Footer__Main",children:["Songboook.com by ",Object(s.jsx)("a",{href:"http://www.clementvanstaen.com",target:"_blank",rel:"noopener noreferrer",children:"Cl\xe9ment van Staen"}),", ",e]})}),Fe=n(505),ze=n(523),Ue=n(254),De=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var s,a,o,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={email:t,password:n},e.next=3,fetch("https://songbook-cvs.herokuapp.com/login",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}return e.next=7,a.json();case 7:throw o=e.sent,c=o.error,new Error(c);case 10:return e.next=12,a.json();case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=(n(494),function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(r.a)(c,2),l=i[0],u=i[1],g=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),s=t.email,a=t.password,o=t.remember,n){e.next=7;break}e.next=21;break;case 7:return e.prev=7,e.next=10,De(s,a);case 10:c=e.sent,!0===o&&(localStorage.setItem("refreshToken",c.refreshToken),localStorage.setItem("userId",c.userId)),F.login(c.token,c.refreshToken),fe.setUserId(c.userId),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),b.a.warn({message:e.t0.message}),console.log(e.t0);case 20:u(!1);case 21:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"login__full",children:[Object(s.jsx)("div",{className:"login__header",children:Object(s.jsxs)("div",{className:"login__header",children:["Songbo",Object(s.jsx)("b",{children:"0"}),"ok"]})}),Object(s.jsxs)(h.a,{name:"normal_login",className:"login__form",initialValues:{remember:!0},onFinish:g,children:[Object(s.jsx)(h.a.Item,{name:"username",hidden:n,rules:[{required:!n,message:"How should we call you?"}],children:Object(s.jsx)(O.a,{prefix:Object(s.jsx)(ge.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(s.jsx)(h.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(s.jsx)(O.a,{prefix:Object(s.jsx)(ze.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(s.jsx)(h.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(s.jsx)(O.a.Password,{prefix:Object(s.jsx)(Pe.a,{className:"site-form-item-icon"}),placeholder:"input Password",iconRender:function(e){return e?Object(s.jsx)(we.a,{}):Object(s.jsx)(Ue.a,{})}})}),Object(s.jsxs)(h.a.Item,{hidden:!n,children:[Object(s.jsx)(h.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(s.jsx)(Fe.a,{children:Object(s.jsx)("span",{className:"login__remember",children:"Remember me"})})}),Object(s.jsx)("a",{className:"login__formforgot",href:"/#",children:"Recover password"})]}),Object(s.jsxs)(h.a.Item,{children:[Object(s.jsx)(R.a,{type:"primary",htmlType:"submit",className:"login__formbutton",children:l?Object(s.jsx)(se.a,{}):n?"Log in":"Create account"}),Object(s.jsxs)("div",{className:"login__switchmode",children:["Or"," ",Object(s.jsx)("span",{className:"login__switchmodetext",onClick:function(){o(!n)},children:n?"register now!":"log into your account!"})]})]})]})]})}),Ve=(n(495),Object(l.a)((function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){o(!1)}),[]),n?Object(s.jsx)(je,{}):Object(s.jsxs)("div",{className:"Profil__full",children:[Object(s.jsx)("div",{className:"Profil__title",children:"Profil"}),Object(s.jsx)("div",{className:"Profil__avatar",style:{backgroundImage:"url(".concat(fe.picUrl,")"),backgroundSize:"cover"}}),Object(s.jsxs)("div",{className:"Profil__main",children:[Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:["hello ",fe.userName,","]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"Profil__logout",onClick:function(){return F.logout()},children:"(logout)"})]})]})})));n(496);p.a.interceptors.request.use(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!F.token){e.next=7;break}return e.next=4,F.token;case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,F.getNewToken();case 9:e.t0=e.sent;case 10:(n=e.t0)&&(t.headers=Object.assign({Authorization:"Bearer ".concat(n),"Content-Type":"application/json"})),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),console.log(e.t1);case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("Interceptor Error",e),Promise.reject(e)}));var Ge=Object(l.a)((function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(r.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(null),j=Object(r.a)(d,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){F.refreshToken&&F.login(F.getNewToken(),F.refreshToken)}),[]),Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)(Le,{setRandomPageId:h,searchValue:n,setSearchValue:o}),"addsong"===k.showPage&&Object(s.jsx)(w,{setNewSongAdded:u}),"login"===k.showPage&&Object(s.jsx)(He,{}),"profil"===k.showPage&&Object(s.jsx)(Ve,{}),"book"===k.showPage&&Object(s.jsx)(be,{searchValue:n,newSongAdded:l,setNewSongAdded:u,randomPageId:b,setRandomPageId:h})]}),Object(s.jsx)(Me,{})]})}));i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(Ge,{})}),document.getElementById("root"))}},[[497,1,2]]]);
//# sourceMappingURL=main.0f7dd701.chunk.js.map